# QTEST讲座小结
### 写在前边的话
    不得不承认，创新真的是个好东西，可以帮助我们尽快的解决问题，其实在很多的时候，放弃一些必不可少的部分的时候，就是一种创新的体现。
    乔布斯放弃了实体键盘选择了使用手指，电视放弃了使用按键产生了遥控器。
    一切的创新，都来的那么的快，同时也都是一种全新的思路的解放，听完这个讲座，感触最深的就是所谓的创新不是什么大的举动，只是将一个小的知识点发挥到了极致而已。
    或许我们多去发现，创新就会更多。
    加油！找准一个方向（一切重复的东西都可以自动化，只要能实现，就是创新），创新也不难。
### 讲座内容回顾
##### 1. smart-基于接口录制的自动化
- 背景
    qunit自动化case书写的时候需要手工的去准备case,过程类似，但是是重复的，而且比较复杂，做smart的目的就是自动化录制case，和qunit平台进行对接。
- 实现原理
    本质上来讲，就是对数据库binlog以及generallog的一种使用，利用备份和恢复原理实现自动化测试数据的准备和调试。
    具体来说就是：根据原表创建新表->使用binlog和generallog分析使用到的数据所涉及的表和库->利用binlog来进行分析数据的返回进而进行assert分析->调试完成之后删除新表，恢复原表
- 其中的问题
    并发数据改动 ： 利用QtraceID的唯一性进行跟踪分析
    录制 ：利用Inception进行分析mysql语句的执行分析涉及的数据库和表的集合，进行备份和使用。
- 目前使用的状况
    前提是需要将所有库的权限都统一获得。
    不能够使用mock数据的方式进行工作。
##### 2. 熔断测试模拟
- 背景
    依赖服务不可用的时候，有可能出现雪崩效应导致整个系统崩溃，通常都会采用限流、缓存以及自动扩容和降级的方式来防止流量过大
    但是，在测试的过程中不能施强压进行直接测试，熔断只能靠经验，不注意就会出差错，模拟熔断是有必要的。
- 实现原理
    本质上来讲就是将调用关系使用key=>value的方式进行关联，当需要进行熔断的时候，直接将key和value的关系断开就可以了。
- 其中的问题
    **待办：调用关系是如何变成key->value关联**
##### 3. 测试用例数据管理平台
- 背景
    1. 数据选择不能够按照需求进行定制
    2. 选择的是线上数据，回归的时候选择数据需要挨个寻找
- 实现原理
    本质上就是根据特定的条件筛选出想要的json数据串，方便进行多版本回归测试
    实现的过程：线上数据->特定条件的json选择->根据条件存入数据库，方便后边使用。
- 其中的问题
    数据的划分 ：根据json数据串的特征进行分析，然后利用替换条件进行标记，形成特定的数据标识。
##### 4. 客户端ui自动化case准备
- 背景
    ui自动化case书写的时候不能自动生成，需要大量的ctrl+c和ctrl+v来完成自动化case的书写。
- 实现原理
    本质上来说就是根据点击app的地方，将需要写自动化的数据使用QAV和UBT埋点的方式进行获取，然后进行自动填写。
    具体来说就是：使用埋点的方式获取自动化case需要的重复的操作的数据，然后按照一定的步骤进行记录操作过程，并进行入库操作。
    如果有不喜欢的地方，手动修改就可以了。
- 其中的问题
    数据的动态变化：有的数据是时刻变化的，在进行录制的过程中只需要关注自己关注的点。
    目前的问题：使用需要进行埋点，可以做到和系统无关，但是不能兼容系统测试。
##### 5. 性能测试云平台
- 背景
    性能测试对环境要求苛刻，测试数据不能及时保留，测试数据有可能会丢失。
- 实现原理
    本质上来讲就是根据配置的条件将施加的压力分配到后边的服务器上边，然后得出对应的测试数据
    具体来说就是：施加压力->压力分配->jmeter施压->测试数据报告
- 遇到的问题
    待办：对jmeter进行包装，使用的方式还是jmeter的测试数据报告，没有看出优点在哪里。
##### 6. noah3.0
- 背景
    主要解决的问题就是环境的搭建和维护，解决noah2.0中存在的不能动态变动的问题。
- 实现原理
    本质上就是将发布系统、机器的动态分配以及配置关联起来，动态的创建和销毁。
##### 7. 雷达系统
- 背景
    监控的多样性和系统间的相互影响，在发布的过程中不能全面兼顾。
- 实现原理
    本质上就是分析监控和日志信息，及时的报告所有相互关联的系统的健康状况。
    具体来说就是：一周的监控和日志信息分析->排除异常状况，对不同的数值赋予不同的权重进行打分，根据分数判断健康状态。
- 其中的问题
    异常监控的处理：进行抹平处理
    数据的分析：采用相关性分析进行分析，打分制度进行判断健康状况。
##### 写在最后
    创新就是将简单的动作进行自动化解决，这就是创新。
